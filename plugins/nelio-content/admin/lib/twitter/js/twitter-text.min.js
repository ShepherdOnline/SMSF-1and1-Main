(function(){if(typeof m==="undefined"||m===null){var m={}}m.txt={};m.txt.regexen={};var b={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};m.txt.htmlEscape=function(p){return p&&p.replace(/[&"'><]/g,function(q){return b[q]})};function c(q,p){p=p||"";if(typeof q!=="string"){if(q.global&&p.indexOf("g")<0){p+="g"}if(q.ignoreCase&&p.indexOf("i")<0){p+="i"}if(q.multiline&&p.indexOf("m")<0){p+="m"}q=q.source}return new RegExp(q.replace(/#\{(\w+)\}/g,function(s,r){var t=m.txt.regexen[r]||"";if(typeof t!=="string"){t=t.source}return t}),p)}m.txt.regexSupplant=c;function d(q,p){return q.replace(/#\{(\w+)\}/g,function(s,r){return p[r]||""})}m.txt.stringSupplant=d;m.txt.regexen.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/;m.txt.regexen.spaces=c(/[#{spaces_group}]/);m.txt.regexen.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/;m.txt.regexen.invalid_chars=c(/[#{invalid_chars_group}]/);m.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/;m.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/mg;m.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/mg;m.txt.regexen.latinAccentChars=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/;m.txt.regexen.bmpLetterAndMarks=/A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07ca-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u103f\u1050-\u108f\u109a-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u180b-\u180d\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f\u1aa7\u1ab0-\u1abe\u1b00-\u1b4b\u1b6b-\u1b73\u1b80-\u1baf\u1bba-\u1bf3\u1c00-\u1c37\u1c4d-\u1c4f\u1c5a-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u20d0-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005\u3006\u302a-\u302f\u3031-\u3035\u303b\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua672\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6e5\ua6f0\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8e0-\ua8f7\ua8fb\ua90a-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf\ua9e0-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf870-\uf87f\uf882\uf884-\uf89f\uf8b8\uf8c1-\uf8d6\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc/;m.txt.regexen.astralLetterAndMarks=/\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48]|\ud804[\udc00-\udc46\udc7f-\udcba\udcd0-\udce8\udd00-\udd34\udd50-\udd73\udd76\udd80-\uddc4\uddda\ude00-\ude11\ude13-\ude37\udeb0-\udeea\udf01-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc80-\udcc5\udcc7\udd80-\uddb5\uddb8-\uddc0\ude00-\ude40\ude44\ude80-\udeb7]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud808[\udc00-\udf98]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udcd0-\udcd6]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef]/;m.txt.regexen.bmpNumerals=/0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19/;m.txt.regexen.astralNumerals=/\ud801[\udca0-\udca9]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udcd0-\udcd9\ude50-\ude59\udec0-\udec9]|\ud806[\udce0-\udce9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]/;m.txt.regexen.hashtagSpecialChars=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\xb7/;m.txt.regexen.hashSigns=/[#＃]/;m.txt.regexen.hashtagAlpha=c(/(?:[#{bmpLetterAndMarks}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}))/);m.txt.regexen.hashtagAlphaNumeric=c(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/);m.txt.regexen.endHashtagMatch=c(/^(?:#{hashSigns}|:\/\/)/);m.txt.regexen.codePoint=/(?:[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF])/;m.txt.regexen.hashtagBoundary=c(/(?:^|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/);m.txt.regexen.validHashtag=c(/(#{hashtagBoundary})(#{hashSigns})(?!\uFE0F|\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi);m.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/;m.txt.regexen.atSigns=/[@＠]/;m.txt.regexen.validMentionOrList=c("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g");m.txt.regexen.validReply=c(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);m.txt.regexen.endMentionMatch=c(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/);m.txt.regexen.validUrlPrecedingChars=c(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/);m.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/;m.txt.regexen.invalidDomainChars=d("#{punct}#{spaces_group}#{invalid_chars_group}",m.txt.regexen);m.txt.regexen.validDomainChars=c(/[^#{invalidDomainChars}]/);m.txt.regexen.validSubdomain=c(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/);m.txt.regexen.validDomainName=c(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/);m.txt.regexen.validGTLD=c(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|大拿|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|شبكة|بيتك|بازار|العليان|ارامكو|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|world|works|work|woodside|wolterskluwer|wme|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|wales|vuelos|voyage|voto|voting|vote|volkswagen|vodka|vlaanderen|viva|vistaprint|vista|vision|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vana|vacations|ups|uol|uno|university|unicom|ubs|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tirol|tires|tips|tiffany|tienda|tickets|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|stada|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|skype|sky|skin|ski|site|singles|sina|silk|shriram|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|services|sener|select|seek|security|seat|scot|scor|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rsvp|room|rodeo|rocks|rocher|rip|rio|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|racing|quest|quebec|qpon|pwc|pub|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|philips|pharmacy|pet|pccw|passagens|party|parts|partners|pars|paris|panerai|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|ooo|online|onl|ong|one|omega|ollo|olayangroup|olayan|okinawa|office|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|new|neustar|network|netflix|netbank|net|nec|navy|natura|name|nagoya|nadex|mutuelle|mutual|museum|mtr|mtpc|mtn|movistar|movie|mov|motorcycles|moscow|mortgage|mormon|montblanc|money|monash|mom|moi|moe|moda|mobily|mobi|mma|mls|mlb|mitsubishi|mit|mini|mil|microsoft|miami|metlife|meo|menu|men|memorial|meme|melbourne|meet|media|med|mba|mattel|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|luxury|luxe|lupin|ltda|ltd|love|lotto|lotte|london|lol|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|leclerc|lease|lds|lawyer|law|latrobe|lat|lasalle|lanxess|landrover|land|lancaster|lamer|lamborghini|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jewelry|jetzt|jcp|jcb|java|jaguar|iwc|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|international|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|icu|ice|icbc|ibm|hyundai|htc|hsbc|how|house|hotmail|hoteles|hosting|host|horse|honda|homes|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|haus|hangout|hamburg|guru|guitars|guide|guge|gucci|guardian|group|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|giving|gives|gifts|gift|ggee|genting|gent|gea|gdn|gbiz|garden|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|ferrero|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eat|earth|dvag|durban|dupont|dunlop|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|docs|dnp|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|cisco|circle|cipriani|church|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbre|cbn|cba|catering|cat|casino|cash|casa|cartier|cars|careers|career|care|cards|caravan|car|capital|capetown|canon|cancerresearch|camp|camera|cam|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|boutique|bot|bostik|bosch|boots|book|boo|bond|bom|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|best|berlin|bentley|beer|beats|bcn|bcg|bbva|bbc|bayern|bauhaus|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|baidu|baby|azure|axa|aws|avianca|autos|auto|author|audio|audible|audi|auction|attorney|associates|asia|arte|art|arpa|army|archi|aramco|aquarelle|apple|app|apartments|anz|anquan|android|analytics|amsterdam|amica|alstom|alsace|ally|allfinanz|alipay|alibaba|akdn|airtel|airforce|airbus|aig|agency|agakhan|afl|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abbvie|abbott|abb|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))"));m.txt.regexen.validCCTLD=c(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारत|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))"));m.txt.regexen.validPunycode=/(?:xn--[0-9a-z]+)/;m.txt.regexen.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/;m.txt.regexen.validDomain=c(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/);m.txt.regexen.validAsciiDomain=c(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi);m.txt.regexen.invalidShortDomain=c(/^#{validDomainName}#{validCCTLD}$/i);m.txt.regexen.validSpecialShortDomain=c(/^#{validDomainName}#{validSpecialCCTLD}$/i);m.txt.regexen.validPortNumber=/[0-9]+/;m.txt.regexen.cyrillicLettersAndMarks=/\u0400-\u04FF/;m.txt.regexen.validGeneralUrlPathChars=c(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i);m.txt.regexen.validUrlBalancedParens=c("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i");m.txt.regexen.validUrlPathEndingChars=c(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i);m.txt.regexen.validUrlPath=c("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i");m.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i;m.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i;m.txt.regexen.extractUrl=c("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi");m.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i;m.txt.regexen.urlHasProtocol=/^https?:\/\//i;m.txt.regexen.urlHasHttps=/^https:\/\//i;m.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i;m.txt.regexen.validCashtag=c("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi");m.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i;m.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i;m.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i;m.txt.regexen.validateUrlPchar=c("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i");m.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i;m.txt.regexen.validateUrlUserinfo=c("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i");m.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;m.txt.regexen.validateUrlIpv4=c(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i);m.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i;m.txt.regexen.validateUrlIp=c("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i");m.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i;m.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i;m.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i;m.txt.regexen.validateUrlDomain=c(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i);m.txt.regexen.validateUrlHost=c("(?:#{validateUrlIp}|#{validateUrlDomain})","i");m.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;m.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;m.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;m.txt.regexen.validateUrlUnicodeDomain=c(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i);m.txt.regexen.validateUrlUnicodeHost=c("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i");m.txt.regexen.validateUrlPort=/[0-9]{1,5}/;m.txt.regexen.validateUrlUnicodeAuthority=c("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i");m.txt.regexen.validateUrlAuthority=c("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i");m.txt.regexen.validateUrlPath=c(/(\/#{validateUrlPchar}*)*/i);m.txt.regexen.validateUrlQuery=c(/(#{validateUrlPchar}|\/|\?)*/i);m.txt.regexen.validateUrlFragment=c(/(#{validateUrlPchar}|\/|\?)*/i);m.txt.regexen.validateUrlUnencoded=c("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var f="tweet-url list-slug";var o="tweet-url username";var l="tweet-url hashtag";var i="tweet-url cashtag";var h={urlClass:true,listClass:true,usernameClass:true,hashtagClass:true,cashtagClass:true,usernameUrlBase:true,listUrlBase:true,hashtagUrlBase:true,cashtagUrlBase:true,usernameUrlBlock:true,listUrlBlock:true,hashtagUrlBlock:true,linkUrlBlock:true,usernameIncludeSymbol:true,suppressLists:true,suppressNoFollow:true,targetBlank:true,suppressDataScreenName:true,urlEntities:true,symbolTag:true,textWithSymbolTag:true,urlTarget:true,invisibleTagAttrs:true,linkAttributeBlock:true,linkTextBlock:true,htmlEscapeNonEntities:true};var n={disabled:true,readonly:true,multiple:true,checked:true};function j(s){var q={};for(var p in s){if(s.hasOwnProperty(p)){q[p]=s[p]}}return q}m.txt.tagAttrs=function(r){var s="";for(var q in r){var p=r[q];if(n[q]){p=p?q:null}if(p==null){continue}s+=" "+m.txt.htmlEscape(q)+'="'+m.txt.htmlEscape(p.toString())+'"'}return s};m.txt.linkToText=function(q,t,p,r){if(!r.suppressNoFollow){p.rel="nofollow"}if(r.linkAttributeBlock){r.linkAttributeBlock(q,p)}if(r.linkTextBlock){t=r.linkTextBlock(q,t)}var s={text:t,attr:m.txt.tagAttrs(p)};return d("<a#{attr}>#{text}</a>",s)};m.txt.linkToTextWithSymbol=function(q,t,v,p,r){var u=r.symbolTag?"<"+r.symbolTag+">"+t+"</"+r.symbolTag+">":t;v=m.txt.htmlEscape(v);var s=r.textWithSymbolTag?"<"+r.textWithSymbolTag+">"+v+"</"+r.textWithSymbolTag+">":v;if(r.usernameIncludeSymbol||!t.match(m.txt.regexen.atSigns)){return m.txt.linkToText(q,u+s,p,r)}else{return u+m.txt.linkToText(q,s,p,r)}};m.txt.linkToHashtag=function(p,u,r){var t=u.substring(p.indices[0],p.indices[0]+1);var s=m.txt.htmlEscape(p.hashtag);var q=j(r.htmlAttrs||{});q.href=r.hashtagUrlBase+s;q.title="#"+s;q["class"]=r.hashtagClass;if(s.charAt(0).match(m.txt.regexen.rtl_chars)){q["class"]+=" rtl"}if(r.targetBlank){q.target="_blank"}return m.txt.linkToTextWithSymbol(p,t,s,q,r)};m.txt.linkToCashtag=function(q,t,s){var p=m.txt.htmlEscape(q.cashtag);var r=j(s.htmlAttrs||{});r.href=s.cashtagUrlBase+p;r.title="$"+p;r["class"]=s.cashtagClass;if(s.targetBlank){r.target="_blank"}return m.txt.linkToTextWithSymbol(q,"$",p,r,s)};m.txt.linkToMentionAndList=function(r,v,t){var p=v.substring(r.indices[0],r.indices[0]+1);var q=m.txt.htmlEscape(r.screenName);var w=m.txt.htmlEscape(r.listSlug);var u=r.listSlug&&!t.suppressLists;var s=j(t.htmlAttrs||{});s["class"]=(u?t.listClass:t.usernameClass);s.href=u?t.listUrlBase+q+w:t.usernameUrlBase+q;if(!u&&!t.suppressDataScreenName){s["data-screen-name"]=q}if(t.targetBlank){s.target="_blank"}return m.txt.linkToTextWithSymbol(r,p,u?q+w:q,s,t)};m.txt.linkToUrl=function(p,v,s){var r=p.url;var w=r;var t=m.txt.htmlEscape(w);var u=(s.urlEntities&&s.urlEntities[r])||p;if(u.display_url){t=m.txt.linkTextWithEntity(u,s)}var q=j(s.htmlAttrs||{});if(!r.match(m.txt.regexen.urlHasProtocol)){r="http://"+r}q.href=r;if(s.targetBlank){q.target="_blank"}if(s.urlClass){q["class"]=s.urlClass}if(s.urlTarget){q.target=s.urlTarget}if(!s.title&&u.display_url){q.title=u.expanded_url}return m.txt.linkToText(p,t,q,s)};m.txt.linkTextWithEntity=function(s,t){var x=s.display_url;var r=s.expanded_url;var u=x.replace(/…/g,"");if(r.indexOf(u)!=-1){var w=r.indexOf(u);var q={displayUrlSansEllipses:u,beforeDisplayUrl:r.substr(0,w),afterDisplayUrl:r.substr(w+u.length),precedingEllipsis:x.match(/^…/)?"…":"",followingEllipsis:x.match(/…$/)?"…":""};for(var p in q){if(q.hasOwnProperty(p)){q[p]=m.txt.htmlEscape(q[p])}}q.invisible=t.invisibleTagAttrs;return d("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",q)}return x};m.txt.autoLinkEntities=function(w,t,x){x=j(x||{});x.hashtagClass=x.hashtagClass||l;x.hashtagUrlBase=x.hashtagUrlBase||"https://twitter.com/#!/search?q=%23";x.cashtagClass=x.cashtagClass||i;x.cashtagUrlBase=x.cashtagUrlBase||"https://twitter.com/#!/search?q=%24";x.listClass=x.listClass||f;x.usernameClass=x.usernameClass||o;x.usernameUrlBase=x.usernameUrlBase||"https://twitter.com/";x.listUrlBase=x.listUrlBase||"https://twitter.com/";x.htmlAttrs=m.txt.extractHtmlAttrsFromOptions(x);x.invisibleTagAttrs=x.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var p,r,u;if(x.urlEntities){p={};for(r=0,u=x.urlEntities.length;r<u;r++){p[x.urlEntities[r].url]=x.urlEntities[r]}x.urlEntities=p}var y="";var s=0;t.sort(function(A,z){return A.indices[0]-z.indices[0]});var v=x.htmlEscapeNonEntities?m.txt.htmlEscape:function(z){return z};for(var r=0;r<t.length;r++){var q=t[r];y+=v(w.substring(s,q.indices[0]));if(q.url){y+=m.txt.linkToUrl(q,w,x)}else{if(q.hashtag){y+=m.txt.linkToHashtag(q,w,x)}else{if(q.screenName){y+=m.txt.linkToMentionAndList(q,w,x)}else{if(q.cashtag){y+=m.txt.linkToCashtag(q,w,x)}}}}s=q.indices[1]}y+=v(w.substring(s,w.length));return y};m.txt.autoLinkWithJSON=function(u,s,p){if(s.user_mentions){for(var r=0;r<s.user_mentions.length;r++){s.user_mentions[r].screenName=s.user_mentions[r].screen_name}}if(s.hashtags){for(var r=0;r<s.hashtags.length;r++){s.hashtags[r].hashtag=s.hashtags[r].text}}if(s.symbols){for(var r=0;r<s.symbols.length;r++){s.symbols[r].cashtag=s.symbols[r].text}}var t=[];for(var q in s){t=t.concat(s[q])}m.txt.modifyIndicesFromUnicodeToUTF16(u,t);return m.txt.autoLinkEntities(u,t,p)};m.txt.extractHtmlAttrsFromOptions=function(r){var s={};for(var q in r){var p=r[q];if(h[q]){continue}if(n[q]){p=p?q:null}if(p==null){continue}s[q]=p}return s};m.txt.autoLink=function(r,p){var q=m.txt.extractEntitiesWithIndices(r,{extractUrlsWithoutProtocol:false});return m.txt.autoLinkEntities(r,q,p)};m.txt.autoLinkUsernamesOrLists=function(r,p){var q=m.txt.extractMentionsOrListsWithIndices(r);return m.txt.autoLinkEntities(r,q,p)};m.txt.autoLinkHashtags=function(r,p){var q=m.txt.extractHashtagsWithIndices(r);return m.txt.autoLinkEntities(r,q,p)};m.txt.autoLinkCashtags=function(r,p){var q=m.txt.extractCashtagsWithIndices(r);return m.txt.autoLinkEntities(r,q,p)};m.txt.autoLinkUrlsCustom=function(r,p){var q=m.txt.extractUrlsWithIndices(r,{extractUrlsWithoutProtocol:false});return m.txt.autoLinkEntities(r,q,p)};m.txt.removeOverlappingEntities=function(r){r.sort(function(t,s){return t.indices[0]-s.indices[0]});var q=r[0];for(var p=1;p<r.length;p++){if(q.indices[1]>r[p].indices[0]){r.splice(p,1);p--}else{q=r[p]}}};m.txt.extractEntitiesWithIndices=function(r,p){var q=m.txt.extractUrlsWithIndices(r,p).concat(m.txt.extractMentionsOrListsWithIndices(r)).concat(m.txt.extractHashtagsWithIndices(r,{checkUrlOverlap:false})).concat(m.txt.extractCashtagsWithIndices(r));if(q.length==0){return[]}m.txt.removeOverlappingEntities(q);return q};m.txt.extractMentions=function(s){var t=[],p=m.txt.extractMentionsWithIndices(s);for(var r=0;r<p.length;r++){var q=p[r].screenName;t.push(q)}return t};m.txt.extractMentionsWithIndices=function(t){var p=[],s,r=m.txt.extractMentionsOrListsWithIndices(t);for(var q=0;q<r.length;q++){s=r[q];if(s.listSlug==""){p.push({screenName:s.screenName,indices:s.indices})}}return p};m.txt.extractMentionsOrListsWithIndices=function(q){if(!q||!q.match(m.txt.regexen.atSigns)){return[]}var p=[],r;q.replace(m.txt.regexen.validMentionOrList,function(z,A,w,v,s,x,B){var t=B.slice(x+z.length);if(!t.match(m.txt.regexen.endMentionMatch)){s=s||"";var y=x+A.length;var u=y+v.length+s.length+1;p.push({screenName:v,listSlug:s,indices:[y,u]})}});return p};m.txt.extractReplies=function(q){if(!q){return null}var p=q.match(m.txt.regexen.validReply);if(!p||RegExp.rightContext.match(m.txt.regexen.endMentionMatch)){return null}return p[1]};m.txt.extractUrls=function(t,q){var s=[],p=m.txt.extractUrlsWithIndices(t,q);for(var r=0;r<p.length;r++){s.push(p[r].url)}return s};m.txt.extractUrlsWithIndices=function(x,A){if(!A){A={extractUrlsWithoutProtocol:true}}if(!x||(A.extractUrlsWithoutProtocol?!x.match(/\./):!x.match(/:/))){return[]}var v=[];while(m.txt.regexen.extractUrl.exec(x)){var w=RegExp.$2,r=RegExp.$3,y=RegExp.$4,t=RegExp.$5,z=RegExp.$7;var s=m.txt.regexen.extractUrl.lastIndex,u=s-r.length;if(!y){if(!A.extractUrlsWithoutProtocol||w.match(m.txt.regexen.invalidUrlWithoutProtocolPrecedingChars)){continue}var q=null,p=0;t.replace(m.txt.regexen.validAsciiDomain,function(C){var B=t.indexOf(C,p);p=B+C.length;q={url:C,indices:[u+B,u+p]};if(z||C.match(m.txt.regexen.validSpecialShortDomain)||!C.match(m.txt.regexen.invalidShortDomain)){v.push(q)}});if(q==null){continue}if(z){q.url=r.replace(t,q.url);q.indices[1]=s}}else{if(r.match(m.txt.regexen.validTcoUrl)){r=RegExp.lastMatch;s=u+r.length}v.push({url:r,indices:[u,s]})}}return v};m.txt.extractHashtags=function(s){var r=[],q=m.txt.extractHashtagsWithIndices(s);for(var p=0;p<q.length;p++){r.push(q[p].hashtag)}return r};m.txt.extractHashtagsWithIndices=function(u,q){if(!q){q={checkUrlOverlap:true}}if(!u||!u.match(m.txt.regexen.hashSigns)){return[]}var p=[];u.replace(m.txt.regexen.validHashtag,function(A,C,y,B,x,D){var v=D.slice(x+A.length);if(v.match(m.txt.regexen.endHashtagMatch)){return}var z=x+C.length;var w=z+B.length+1;p.push({hashtag:B,indices:[z,w]})});if(q.checkUrlOverlap){var s=m.txt.extractUrlsWithIndices(u);if(s.length>0){var t=p.concat(s);m.txt.removeOverlappingEntities(t);p=[];for(var r=0;r<t.length;r++){if(t[r].hashtag){p.push(t[r])}}}}return p};m.txt.extractCashtags=function(s){var p=[],q=m.txt.extractCashtagsWithIndices(s);for(var r=0;r<q.length;r++){p.push(q[r].cashtag)}return p};m.txt.extractCashtagsWithIndices=function(q){if(!q||q.indexOf("$")==-1){return[]}var p=[];q.replace(m.txt.regexen.validCashtag,function(u,x,r,s,y,t){var v=y+x.length;var w=v+s.length+1;p.push({cashtag:s,indices:[v,w]})});return p};m.txt.modifyIndicesFromUnicodeToUTF16=function(q,p){m.txt.convertUnicodeIndices(q,p,false)};m.txt.modifyIndicesFromUTF16ToUnicode=function(q,p){m.txt.convertUnicodeIndices(q,p,true)};m.txt.getUnicodeTextLength=function(p){return p.replace(m.txt.regexen.non_bmp_code_pairs," ").length};m.txt.convertUnicodeIndices=function(x,u,q){if(u.length==0){return}var p=0;var r=0;u.sort(function(z,y){return z.indices[0]-y.indices[0]});var t=0;var s=u[0];while(p<x.length){if(s.indices[0]==(q?p:r)){var v=s.indices[1]-s.indices[0];s.indices[0]=q?r:p;s.indices[1]=s.indices[0]+v;t++;if(t==u.length){break}s=u[t]}var w=x.charCodeAt(p);if(55296<=w&&w<=56319&&p<x.length-1){w=x.charCodeAt(p+1);if(56320<=w&&w<=57343){p++}}r++;p++}};m.txt.splitTags=function(v){var p=v.split("<"),u,t=[],s;for(var r=0;r<p.length;r+=1){s=p[r];if(!s){t.push("")}else{u=s.split(">");for(var q=0;q<u.length;q+=1){t.push(u[q])}}}return t};m.txt.hitHighlight=function(A,C,s){var y="em";C=C||[];s=s||{};if(C.length===0){return A}var r=s.tag||y,B=["<"+r+">","</"+r+">"],z=m.txt.splitTags(A),F,E,v="",p=0,w=z[0],x=0,q=0,J=false,t=w,D=[],u,G,K,I,H;for(F=0;F<C.length;F+=1){for(E=0;E<C[F].length;E+=1){D.push(C[F][E])}}for(u=0;u<D.length;u+=1){G=D[u];K=B[u%2];I=false;while(w!=null&&G>=x+w.length){v+=t.slice(q);if(J&&G===x+t.length){v+=K;I=true}if(z[p+1]){v+="<"+z[p+1]+">"}x+=t.length;q=0;p+=2;w=z[p];t=w;J=false}if(!I&&w!=null){H=G-x;v+=t.slice(q,H)+K;q=H;if(u%2===0){J=true}else{J=false}}else{if(!I){I=true;v+=K}}}if(w!=null){if(q<t.length){v+=t.slice(q)}for(u=p+1;u<z.length;u+=1){v+=(u%2===0?z[u]:"<"+z[u]+">")}}return v};var e=140;m.txt.getTweetLength=function(t,q){if(!q){q={short_url_length:23,short_url_length_https:23}}var s=m.txt.getUnicodeTextLength(t),p=m.txt.extractUrlsWithIndices(t);m.txt.modifyIndicesFromUTF16ToUnicode(t,p);for(var r=0;r<p.length;r++){s+=p[r].indices[0]-p[r].indices[1];if(p[r].url.toLowerCase().match(m.txt.regexen.urlHasHttps)){s+=q.short_url_length_https}else{s+=q.short_url_length}}return s};m.txt.isInvalidTweet=function(p){if(!p){return"empty"}if(m.txt.getTweetLength(p)>e){return"too_long"}if(m.txt.hasInvalidCharacters(p)){return"invalid_characters"}return false};m.txt.hasInvalidCharacters=function(p){return m.txt.regexen.invalid_chars.test(p)};m.txt.isValidTweetText=function(p){return !m.txt.isInvalidTweet(p)};m.txt.isValidUsername=function(q){if(!q){return false}var p=m.txt.extractMentions(q);return p.length===1&&p[0]===q.slice(1)};var k=c(/^#{validMentionOrList}$/);m.txt.isValidList=function(q){var p=q.match(k);return !!(p&&p[1]==""&&p[4])};m.txt.isValidHashtag=function(q){if(!q){return false}var p=m.txt.extractHashtags(q);return p.length===1&&p[0]===q.slice(1)};m.txt.isValidUrl=function(p,u,x){if(u==null){u=true}if(x==null){x=true}if(!p){return false}var q=p.match(m.txt.regexen.validateUrlUnencoded);if(!q||q[0]!==p){return false}var r=q[1],s=q[2],w=q[3],v=q[4],t=q[5];if(!((!x||(g(r,m.txt.regexen.validateUrlScheme)&&r.match(/^https?$/i)))&&g(w,m.txt.regexen.validateUrlPath)&&g(v,m.txt.regexen.validateUrlQuery,true)&&g(t,m.txt.regexen.validateUrlFragment,true))){return false}return(u&&g(s,m.txt.regexen.validateUrlUnicodeAuthority))||(!u&&g(s,m.txt.regexen.validateUrlAuthority))};function g(q,r,p){if(!p){return((typeof q==="string")&&q.match(r)&&RegExp["$&"]===q)}return(!q||(q.match(r)&&RegExp["$&"]===q))}if(typeof module!="undefined"&&module.exports){module.exports=m.txt}if(typeof define=="function"&&define.amd){define([],m.txt)}if(typeof window!="undefined"){if(window.twttr){for(var a in m){window.twttr[a]=m[a]}}else{window.twttr=m}}})();